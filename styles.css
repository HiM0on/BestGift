/* Simple, accessible, responsive styles */
:root{
  --bg:#fff7fb;
  --card:#ffffff;
  --accent:#d84e6b; /* cherry */
  --muted:#6b6b6b;
  --radius:14px;
  font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}
/* prevent the revealed card from being clipped when scrolled into view on phones */
html{scroll-padding-top:calc(env(safe-area-inset-top, 18px) + 6px)}
.card{scroll-margin-top:calc(env(safe-area-inset-top, 18px) + 6px)}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#f0f6ff 0%,var(--bg) 60%);color:#222}
body{display:flex;align-items:center;justify-content:center;padding:24px}
.card{max-width:720px;width:100%;background:linear-gradient(180deg,#ffffff 0%, #fffafc 100%);border-radius:var(--radius);padding:28px;text-align:center;box-shadow:0 10px 40px rgba(20,20,40,0.07)}
h1{letter-spacing:0.6px}
.subtitle{display:block;margin-bottom:12px}
.media{height:220px;display:flex;align-items:center;justify-content:center;margin-bottom:16px}
.cake{max-height:100%;max-width:100%;border-radius:10px;object-fit:cover}
h1{margin:6px 0 4px;font-weight:600;font-size:clamp(1.6rem,3vw,2.2rem)}
.subtitle{margin:0 0 18px;color:var(--muted)}
button{background:linear-gradient(180deg,var(--accent), #c6435f);color:white;border:0;padding:12px 20px;border-radius:12px;font-weight:700;cursor:pointer;font-size:1rem;box-shadow:0 8px 20px rgba(216,78,107,0.12);border:2px solid rgba(255,255,255,0.12)}
button:focus{outline:3px solid rgba(216,78,107,0.25);outline-offset:3px}
button:hover{transform:translateY(-3px);box-shadow:0 14px 30px rgba(216,78,107,0.16)}
button{ -webkit-user-select: none; -ms-user-select: none; user-select: none; }
.message{margin-top:20px;padding:16px;border-radius:10px;background:linear-gradient(180deg,rgba(216,78,107,0.06),rgba(216,78,107,0.02));transform-origin:top;transition:all 300ms ease;max-height:0;overflow:hidden}
.message[aria-hidden="false"]{max-height:400px;padding:18px}
.from{margin-top:12px;font-weight:600}
.note{font-size:.85rem;color:var(--muted);margin-top:12px}
@media (max-width:480px){.card{padding:18px}.media{height:160px}}

/* small-screen height safeguard: add a tiny top padding to the card to avoid visual clipping */
@media (max-height:640px){
  .card{padding-top:calc(18px + env(safe-area-inset-top, 6px));}
}

/* temporary body padding used during reveal to avoid clipping under mobile chrome */
.reveal-padding{
  padding-top: var(--reveal-offset, 64px) !important;
}

/* Gallery styles */
.gallery{margin:14px 0}
.slide{height:320px;background:linear-gradient(180deg,#fff 0%,#fff 60%);border-radius:14px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
#mainPhoto{max-width:100%;max-height:100%;display:block;object-fit:cover;border-radius:10px;transition:opacity 360ms ease, transform 360ms ease;opacity:1}
#mainPhoto {
  touch-action: pan-y;
  user-select: none;
}
.photo-fallback{position:absolute;font-size:64px}
.photo-fallback{display:none}

/* floating cake decorations (appear randomly on screen) */
.floating-cake{
  position:fixed;
  pointer-events:none;
  z-index:10000;
  will-change:transform,opacity;
  filter:drop-shadow(0 10px 20px rgba(0,0,0,0.16));
  opacity:0;
  transform-origin:center center;
}

.floating-cake::before{
  /* soft colored circle behind the emoji to give tinted shades */
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: var(--bg-size, 40px);
  height: var(--bg-size, 40px);
  border-radius: 50%;
  background: var(--cake-bg, rgba(255,230,230,0.9));
  z-index: -1;
  filter: blur(3px);
  opacity: 1;
}

.floating-cake svg{ display:block; width:1em; height:1em; }

@keyframes cakeFloatVar {
  /* uses CSS variables set per-element: --dx (start X offset), --dxEnd (end X offset),
     --rot (start rotation), --drot (end rotation) */
  0%{
    transform: translate(var(--dx, 0px), 0) rotate(var(--rot, 0deg)) scale(0.9);
    opacity:0;
  }
  8%{ opacity:1; }
  100%{
    transform: translate(var(--dxEnd, 0px), -120px) rotate(calc(var(--rot, 0deg) + var(--drot, 0deg))) scale(1.05);
    /* keep a faint presence at the end so cakes remain slightly visible while floating away */
    opacity:0.12;
  }
}

/* add subtle strokes to svg shapes so they read well on varied backgrounds */
.floating-cake svg *{
  stroke: rgba(0,0,0,0.06);
  stroke-width: 0.8px;
  stroke-linejoin: round;
}
.thumbs{display:flex;gap:8px;justify-content:center;margin-top:10px}
.thumb{background:#fff;border:1px solid #eee;padding:6px;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;min-width:54px;min-height:44px;transition:transform 200ms ease, box-shadow 200ms ease}
.thumb img{max-width:100%;max-height:36px;border-radius:6px;display:block;object-fit:cover}
.thumb:hover{transform:translateY(-6px);box-shadow:0 12px 26px rgba(0,0,0,0.10)}
.thumb[aria-pressed="true"]{box-shadow:0 8px 22px rgba(0,0,0,0.12);border-color:var(--accent);transform:translateY(-6px)}

/* card reveal animation */
.card{transition:transform 360ms cubic-bezier(.2,.9,.2,1),opacity 360ms ease, box-shadow 360ms ease}
.card.revealed{transform:translateY(-6px) scale(1.01)}
.message{opacity:0;transform:translateY(6px);transition:opacity 360ms ease, transform 360ms ease}
.message[aria-hidden="false"]{opacity:1;transform:translateY(0)}

/* confetti canvas */
#confetti-canvas{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:9999}

/* hide focus outlines for mouse users while keeping them for keyboard users */
:focus:not(:focus-visible){
  outline: none !important;
  box-shadow: none !important;
}

.thumb:focus{outline: none}
.thumb:focus-visible{outline: 3px solid rgba(216,78,107,0.18);outline-offset:4px}
@media (max-width: 480px) {
  .thumbs {
    display: none;
  }
}
/* ===== Fullscreen image viewer ===== */
#fullscreenViewer {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.95);

  display: flex;
  align-items: center;
  justify-content: center;

  z-index: 99999;

  opacity: 0;
  pointer-events: none;
  transition: opacity 300ms ease;
}

#fullscreenViewer.active {
  opacity: 1;
  pointer-events: auto;
}

#fullscreenViewer img {
  max-width: 100vw;
  max-height: 100vh;
  object-fit: contain;

  transform: scale(0.92);
  opacity: 0;
  transition: transform 300ms ease, opacity 300ms ease;
}

#fullscreenViewer.active img {
  transform: scale(1);
  opacity: 1;
}